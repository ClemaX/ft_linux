#!/bin/sh

wm='i3'

sysdir='/etc/X11/app-defaults'
userdir="$HOME"

userresources="$userdir/.Xresources"
usermodmap="$userdir/.Xmodmap"
sysresources="$sysdir/.Xresources"
sysmodmap="$sysdir/.Xmodmap"

# merge in defaults and keymaps

if [ -f $sysresources ]
then
    xrdb -merge $sysresources
fi

if [ -f $sysmodmap ]
then
    xmodmap $sysmodmap
fi

if [ -f "$userresources" ]
then

    xrdb -merge "$userresources"

fi

if [ -f "$usermodmap" ]
then
    xmodmap "$usermodmap"
fi

# start some nice programs

if [ -d /usr/local/etc/X11/xinit/xinitrc.d ]
then
    for f in /usr/local/etc/X11/xinit/xinitrc.d/?*.sh; do
        # shellcheck source=/dev/null
        [ -x "$f" ] && . "$f"
    done

    unset f
fi

exec "$wm"
